<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Reaction Game</title>
<style>
  body {
    background: #1e1e1e;
    color: white;
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
  }
  #gameContainer {
    position: relative;
    width: 500px;
    height: 400px;
    margin: 50px auto;
    border: 3px solid #fff;
    background: #2e2e2e;
    overflow: hidden;
    border-radius: 10px;
  }
  #reactionBox {
    position: absolute;
    width: 80px;
    height: 80px;
    background: #ff4444;
    border-radius: 10px;
    display: none;
    cursor: pointer;
    transition: transform 0.1s;
  }
  h1, h2 {
    margin: 10px;
  }
  #startButton {
    padding: 10px 20px;
    font-size: 18px;
    cursor: pointer;
    margin-top: 20px;
  }
</style>
</head>
<body>

<h1>âš¡ Reaction Game</h1>
<h2>Score: <span id="score">0</span> | High Score: <span id="highScore">0</span></h2>
<div id="gameContainer">
  <div id="reactionBox"></div>
</div>
<button id="startButton">Start Game</button>

<script>
let score = 0;
let highScore = localStorage.getItem('reactionHighScore') || 0;
document.getElementById('highScore').innerText = highScore;

let gameTime = 30; // 30 seconds game
let timerRunning = false;
let streak = 0;
let boxTimeout;
let boxSpeed = 1000;

const gameContainer = document.getElementById('gameContainer');
const reactionBox = document.getElementById('reactionBox');
const startButton = document.getElementById('startButton');

function startGame() {
  score = 0;
  streak = 0;
  document.getElementById('score').innerText = score;
  startButton.style.display = 'none';
  timerRunning = true;
  gameTimer = setTimeout(endGame, gameTime * 1000);
  spawnBox();
}

function spawnBox() {
  if (!timerRunning) return;

  // Random position inside container
  const x = Math.random() * (gameContainer.clientWidth - 80);
  const y = Math.random() * (gameContainer.clientHeight - 80);
  reactionBox.style.left = x + 'px';
  reactionBox.style.top = y + 'px';

  // Random color
  reactionBox.style.background = `hsl(${Math.random()*360}, 80%, 50%)`;

  reactionBox.style.display = 'block';
  reactionBox.style.transform = 'scale(1)';

  // Move box after timeout if not clicked
  boxTimeout = setTimeout(() => {
    reactionBox.style.display = 'none';
    streak = 0; // reset streak if missed
    spawnBox();
  }, boxSpeed);
}

reactionBox.addEventListener('click', () => {
  clearTimeout(boxTimeout);
  reactionBox.style.transform = 'scale(1.2)'; // click feedback
  score += 1 + streak; // combo bonus
  streak += 1;
  document.getElementById('score').innerText = score;

  // increase speed slightly
  boxSpeed = Math.max(400, boxSpeed - 20);

  reactionBox.style.display = 'none';
  setTimeout(spawnBox, 300); // short delay before next box
});

function endGame() {
  timerRunning = false;
  reactionBox.style.display = 'none';
  startButton.style.display = 'inline-block';
  if (score > highScore) {
    highScore = score;
    localStorage.setItem('reactionHighScore', highScore);
    document.getElementById('highScore').innerText = highScore;
    alert(`New High Score: ${score}!`);
  } else {
    alert(`Time's up! Score: ${score}`);
  }
  // reset speed for next game
  boxSpeed = 1000;
}

startButton.addEventListener('click', startGame);
</script>

</body>
</html>

